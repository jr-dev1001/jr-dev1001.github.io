<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->

    <style>
      /* Light theme styles */
      body {
        background-color: #fff; /* Light background color */
        color: #333; /* Dark text color */
      }
      .wrapper-masthead, .wrapper-footer {
        background-color: #f5f5f5; /* Light background color for header and footer */
      }
      .masthead {
        border-bottom: 1px solid #ccc; /* Lighter border for header */
      }
      .site-name a, nav a, #theme-toggle {
        color: #333; /* Dark text color for site name, navigation links, and theme toggle button */
      }
      .site-description {
        color: #666; /* Medium-dark text color for site description */
      }
    
      /* Dark theme styles */
      body.dark-theme {
        background-color: #222; /* Dark background color */
        color: #fff; /* Light text color */
      }
      .wrapper-masthead, .wrapper-footer {
        background-color: #333; /* Dark background color for header and footer */
      }
      .masthead {
        border-bottom: 1px solid #444; /* Darker border for header */
      }
      .site-name a, nav a, #theme-toggle {
        color: #fff; /* Light text color for site name, navigation links, and theme toggle button */
      }
      .site-description {
        color: #ccc; /* Medium-light text color for site description */
      }
      .site-avatar img {
        border: 3px solid #fff; /* White border around site avatar */
      }
      .container {
        max-width: 960px; /* Limit width of content container */
        margin: 0 auto; /* Center content container */
        padding: 20px; /* Add padding to content container */
      }
    </style>
    
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <nav>
            <a href="{{ site.baseurl }}/">Blog</a>
            <a href="{{ site.baseurl }}/about">About</a>
            <button id="theme-toggle">Toggle Theme</button>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
        </footer>
      </div>
    </div>

    {% include analytics.html %}

    <script>
      // Function to toggle between dark and light themes
      function toggleTheme() {
        const body = document.body;
        body.classList.toggle('dark-theme');

        // Check if dark theme is enabled
        const isDarkTheme = body.classList.contains('dark-theme');

        // Set appropriate text and background color for the toggle button
        const themeToggleBtn = document.getElementById('theme-toggle');
        themeToggleBtn.textContent = isDarkTheme ? 'Light Theme' : 'Dark Theme';
        themeToggleBtn.style.backgroundColor = isDarkTheme ? '#fff' : '#333';
        themeToggleBtn.style.color = isDarkTheme ? '#333' : '#fff';

        // Save the current theme preference to localStorage
        localStorage.setItem('theme', isDarkTheme ? 'dark' : 'light');
      }

      // Add event listener to the theme toggle button
      document.getElementById('theme-toggle').addEventListener('click', toggleTheme);

      // Check if there's a theme preference saved in localStorage
      const savedTheme = localStorage.getItem('theme');

      // Apply the saved theme preference on page load
      if (savedTheme === 'dark') {
        toggleTheme(); // Toggle to dark theme
      }
    </script>
  </body>
</html>
